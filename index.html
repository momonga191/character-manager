<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>盗賊の眼 | Bilingual Output Edition (Viewport Fit)</title>
    <link rel="stylesheet" href="styles.css" />

</head>

<body>
  <div class="wrap">
    <header>
      <div class="title">
        <h1>盗賊の眼 ver 1.05b3 (Bilingual Output Edition)</h1>
        <p class="sub">ページはスクロール無し。特徴欄のみ内部スクロールで収めます。</p>
      </div>
      <div class="badge">🪶 base: featherGuiz / Nyakazu_tobazu</div>
    </header>

    <form id="cwForm" action="#" method="post" onsubmit="return false;">
      <div class="topTabs" role="tablist" aria-label="Main tabs">
        <button type="button" class="topTab is-active" data-main="basic">基本設定</button>
        <button type="button" class="topTab" data-main="profile">プロフィール</button>
      </div>

      <div class="mainPanel is-active" id="main-basic" aria-label="Basic panel">
        <div class="basicGrid">
<!-- Left -->
      <section class="card">
        <div class="head">
          <h2>特性</h2>
</div>

        <div class="body">
          <div class="traitsHeader">
            <div class="tTitle">特徴（24項目・3択）</div>
            <div class="traitsRight">
              <button type="button" id="resetTraitsBtn" class="miniBtn">リセット</button>
            </div>
          </div>

          <div class="traitsViewport">
            <div id="traitsGrid" class="traitsGrid" aria-label="Traits"></div>
          </div>
</div>
      </section>

      

      <!-- Right -->
      <section class="card">
        <div class="head">
<div class="outModeTabs" role="tablist" aria-label="Output mode">
            <button type="button" class="outTab is-active" data-out="charts">チャート</button>
            <button type="button" class="outTab" data-out="text">テキスト</button>
          </div>

          <div class="actions">
</div>
        </div>

        <div class="body">
          <div class="outBody">
            <div class="outPanel is-active" id="out-charts" aria-label="Charts">
              <div class="vizStack">
                
              <div class="vizCard staminaCard" id="staminaRow" aria-label="体力（最小-最大）">
                <div class="staminaLabel">体力（最小-最大）</div>
                <div class="staminaHearts" id="staminaHearts" aria-hidden="true"></div>
                <div class="staminaRange" id="staminaRange"></div>
              </div>
<div class="vizCard radarCard" id="radarCard">
                  <button type="button" class="miniBtn cornerBtn" id="resetPhysicalBtn">適正値</button>
                  <div class="radarWrap">
                    <canvas id="radar"></canvas>

                    <div class="radarOverlay" id="radarOverlay" aria-label="身体能力 手動調整">
                      <div class="statCtl pos-dex">
                        <div class="statTop"><span class="statName">器用度</span></div>
                        <input class="statSpin" id="spinDex" data-idx="2" type="number" min="1" max="12" step="1" inputmode="numeric" aria-label="器用度">
                      </div>
                      <div class="statCtl pos-agi">
                        <div class="statTop"><span class="statName">敏捷度</span></div>
                        <input class="statSpin" id="spinAgi" data-idx="3" type="number" min="1" max="12" step="1" inputmode="numeric" aria-label="敏捷度">
                      </div>
                      <div class="statCtl pos-int">
                        <div class="statTop"><span class="statName">知力</span></div>
                        <input class="statSpin" id="spinInt" data-idx="4" type="number" min="1" max="12" step="1" inputmode="numeric" aria-label="知力">
                      </div>
                      <div class="statCtl pos-str">
                        <div class="statTop"><span class="statName">筋力</span></div>
                        <input class="statSpin" id="spinStr" data-idx="5" type="number" min="1" max="12" step="1" inputmode="numeric" aria-label="筋力">
                      </div>
                      <div class="statCtl pos-vit">
                        <div class="statTop"><span class="statName">生命力</span></div>
                        <input class="statSpin" id="spinVit" data-idx="6" type="number" min="1" max="12" step="1" inputmode="numeric" aria-label="生命力">
                      </div>
                      <div class="statCtl pos-will">
                        <div class="statTop"><span class="statName">精神力</span></div>
                        <input class="statSpin" id="spinWill" data-idx="7" type="number" min="1" max="12" step="1" inputmode="numeric" aria-label="精神力">
                      </div>
                    </div>

                    <div class="radarSum" id="radarSum" aria-label="合計値">合計値: -</div>
                  </div>
</div>
                <div class="vizCard bipolarCard">
                  <button type="button" class="miniBtn cornerBtn" id="resetMentalBtn">適正値</button>
                  <div class="biScaleRow" aria-hidden="true"><div></div><div class="biScaleTrack"><span class="biMin">-4</span><span class="biZero">0</span><span class="biMax">+4</span></div><div></div></div>
                  <div id="bipolar"></div>
                </div>
              </div>
            </div>

            <div class="outPanel" id="out-text" aria-label="Text output">
              <div class="outTextWrap">
                <textarea name="output" wrap="hard" spellcheck="false" aria-label="Output"></textarea>
              </div>
              <div class="outTextFooter">
                <div class="textActions" aria-label="Text actions">
                  <span class="toast" id="copyToast" aria-live="polite" aria-atomic="true">コピーしました</span>
                  <button type="button" class="miniBtn" id="copyBtn">コピー</button>
                  <span class="miniLangWrap">
                    <select class="miniLang" name="out_lang" onchange="cw_analyze();" aria-label="Output language">
                      <option value="ja">日本語</option>
                      <option value="en">English</option>
                    </select>
                  </span>
                </div>
              </div>
            </div>

            <div id="overridePanel" class="overridePanel" aria-hidden="true">
                <div class="ovHead">
                  <div class="ovTitle">手動</div>
                  <button type="button" class="ovClose" id="overrideCloseBtn" aria-label="Close">×</button>
                </div>
                <div class="ovHint">空欄 = 自動値（内部計算）</div>

                <div class="ovBody">
                  <div class="ovSection">
                    <div class="ovSecTitle">身体能力</div>
                    <div class="ovGrid">
                      <label class="ovField" data-idx="2"><div class="ovLabel"><span>Dex</span><span class="ovAuto" data-idx="2"></span></div><input class="ovInput" type="number" inputmode="numeric" min="1" max="12" step="1" data-idx="2"></label>
                      <label class="ovField" data-idx="3"><div class="ovLabel"><span>Agi</span><span class="ovAuto" data-idx="3"></span></div><input class="ovInput" type="number" inputmode="numeric" min="1" max="12" step="1" data-idx="3"></label>
                      <label class="ovField" data-idx="4"><div class="ovLabel"><span>Int</span><span class="ovAuto" data-idx="4"></span></div><input class="ovInput" type="number" inputmode="numeric" min="1" max="12" step="1" data-idx="4"></label>
                      <label class="ovField" data-idx="5"><div class="ovLabel"><span>Str</span><span class="ovAuto" data-idx="5"></span></div><input class="ovInput" type="number" inputmode="numeric" min="1" max="12" step="1" data-idx="5"></label>
                      <label class="ovField" data-idx="6"><div class="ovLabel"><span>Vit</span><span class="ovAuto" data-idx="6"></span></div><input class="ovInput" type="number" inputmode="numeric" min="1" max="12" step="1" data-idx="6"></label>
                      <label class="ovField" data-idx="7"><div class="ovLabel"><span>Will</span><span class="ovAuto" data-idx="7"></span></div><input class="ovInput" type="number" inputmode="numeric" min="1" max="12" step="1" data-idx="7"></label>
                    </div>
                  </div>

                  <div class="ovSection">
                    <div class="ovSecTitle">精神的能力</div>
                    <div class="ovGrid ovGrid5">
                      <label class="ovField" data-idx="8"><div class="ovLabel"><span>好戦</span><span class="ovAuto" data-idx="8"></span></div><input class="ovInput" type="number" inputmode="numeric" min="-4" max="4" step="1" data-idx="8"></label>
                      <label class="ovField" data-idx="9"><div class="ovLabel"><span>社交</span><span class="ovAuto" data-idx="9"></span></div><input class="ovInput" type="number" inputmode="numeric" min="-4" max="4" step="1" data-idx="9"></label>
                      <label class="ovField" data-idx="10"><div class="ovLabel"><span>勇猛</span><span class="ovAuto" data-idx="10"></span></div><input class="ovInput" type="number" inputmode="numeric" min="-4" max="4" step="1" data-idx="10"></label>
                      <label class="ovField" data-idx="11"><div class="ovLabel"><span>慎重</span><span class="ovAuto" data-idx="11"></span></div><input class="ovInput" type="number" inputmode="numeric" min="-4" max="4" step="1" data-idx="11"></label>
                      <label class="ovField" data-idx="12"><div class="ovLabel"><span>狡猾</span><span class="ovAuto" data-idx="12"></span></div><input class="ovInput" type="number" inputmode="numeric" min="-4" max="4" step="1" data-idx="12"></label>
                    </div>
                  </div>
                </div>

                <div class="ovFoot">
                  <button type="button" class="ovBtn" id="overrideResetBtn">上書きをリセット</button>
                </div>
              </div>
          </div>
        </div>
      </section>

        </div>
      </div>


      <div class="mainPanel" id="main-profile" aria-label="Profile panel">
        <div class="profileGrid">
          <section class="card">
            <div class="head">
              <h2>プロフィール</h2>
            </div>
            <div class="body profileBody">
              <div class="profileTop">
                <div class="avatarBox">
                  <div class="avatar">
                    <img id="profileImg" alt="プロフィール画像">
                    <div class="avatarPh" id="profileImgPh">No Image</div>
                  </div>
                  <div class="avatarActions">
                    <button type="button" class="ghostBtn" id="profileImgPick">画像</button>
                    <button type="button" class="ghostBtn muted" id="profileImgClear">削除</button>
                    <input type="file" id="profileImgInput" accept="image/*" hidden>
                    <input type="hidden" name="profile_image" id="profileImgData">
                  </div>
                </div>

                <div class="profileNames">
                  <label class="field">通称（表示名）
                    <input type="text" name="profile_nick" placeholder="例：リリィ">
                  </label>
                  <label class="field">フルネーム
                    <input type="text" name="profile_full" placeholder="例：Lily von Example">
                  </label>
                  <div class="profileNote">※プロフィール項目は計算に影響しません（年齢区分だけは従来通り計算に使います）。</div>
                </div>
              </div>
            </div>
          </section>

          <section class="card">
            <div class="head">
              <h2>解説 / 設定</h2>
            </div>
            <div class="body profileBody">
              <label class="field">キャラクター解説
                <textarea name="profile_desc" placeholder="ここにキャラクターの解説や設定を書けます。"></textarea>
              </label>

              <div class="settingsGrid">
                <label class="select">
                  能力型
                  <span class="selectWrap"><select name="n_type" onchange="cw_analyze();">
                  <option>標準型</option><option>万能型</option><option>勇将型</option><option>豪傑型</option><option>知将型</option><option>策士型</option>
                  <option>凡庸型</option><option>英明型</option><option>無双型</option><option>天才型</option><option>英雄型</option><option>神仙型</option>
                </select></span>
                </label>
                <label class="select">
                  性別
                  <span class="selectWrap"><select name="n_sex" onchange="cw_analyze();">
                  <option>男／♂</option><option>女／♀</option>
                </select></span>
                </label>
                <label class="select">
                  年齢区分（計算に使用）
                  <span class="selectWrap"><select name="n_age" onchange="cw_analyze();">
                  <option>子供</option><option selected>若者</option><option>大人</option><option>老人</option>
                </select></span>
                </label>
                <label class="field">年齢（任意）
                  <input type="number" name="profile_age_exact" inputmode="numeric" min="0" max="999" placeholder="例：23">
                </label>
              </div>
            </div>
          </section>
        </div>
      </div>

</form>
  </div>

  <script src="traits_map.js"></script>
  <script src="cw_core.js"></script>
  <script src="app.js"></script>
</body>
</html>
